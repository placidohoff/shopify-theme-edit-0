<!doctype html>
<html>
  <head>
    <title>{{ page_title }}</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="{{ page_description | escape }}">
    <link rel="canonical" href="{{ canonical_url }}">

    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  {{ content_for_header }}
    <!-- Header hook for plugins -->
    {{ 'application.css' | asset_url | stylesheet_tag }}
    {{ 'application.js' | asset_url | script_tag }}

    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- BOOTSTRAP CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous">
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    {% comment %} {% section 'visual-grid' %} {% endcomment %}
    {% comment %} {% section 'header' %} {% endcomment %}
    {% section 'header-square' %}

    <main role="main" style="background-color: #191919; min-height: 80vh;">
      {{ content_for_layout }}
    {% comment %} {% section 'template-splash' %}
      
                                                                          {% section 'template-collections' %}
                                                    {% section 'template-collections' %} {% endcomment %}

    </main>
    {% section 'footer-square' %}
  </body>
</html>

<style>
  html {
    background-color: #000;
  }
  * {
    color: #CCC;

  }

  /* Initial style for the elements */
  .fade-load {
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  /* Applied when element is in viewport */
  .fade-load.visible {
    opacity: 1;
  }
</style>

<script>
  const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("visible");
              //observer.unobserve(entry.target); // Stop observing once visible
            }
            else{
              //entry.target.classList.remove("visible");
            }
          });
        },
        { threshold: 0.5 }
      ); // Change the threshold as needed
  
      // Get all elements with class 'lazy-load'
      const lazyLoadElements = document.querySelectorAll(".fade-load");
  
      // Observe each lazy load element
      lazyLoadElements.forEach((element) => {
        observer.observe(element);
      });
</script>